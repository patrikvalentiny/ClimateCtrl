<div class="flex flex-col p-6 w-full gap-6">
  <div class="flex flex-col gap-6 w-full">

    <div class="flex justify-center items-center w-full">
      <input (change)="move($event.target)" class="range w-full" max="{{max}}" min="0" step="{{step}}"
             type="range"
             value="{{state.motorPosition.get(mac!)}}"/>
    </div>
    <div class="flex flex-col w-full">
      <progress class="progress progress-secondary w-full" max="{{max}}"
                value="{{state.motorPosition.get(mac!)}}"></progress>
      <p class="text-secondary">{{ state.motorPosition.get(mac!) }}</p>
    </div>
  </div>
  <div class="flex flex-col gap-6">
    <div class="flex w-full items-end form-control">
      <label class="label cursor-pointer gap-2">
        <span class="label-text">Direction</span>
        <input (change)="changeDirection()" [formControl]="directionToggle" class="toggle" type="checkbox"/>
      </label>
    </div>
    <div class="flex w-full justify-end gap-2">
      <button (click)="setMaxToCurrent()" class="btn btn-neutral">Set Max to Current Position</button>
      <button (click)="increaseMax()" [disabled]="state.motorMoving.get(mac!)" class="btn btn-neutral">+ Max</button>
    </div>
  </div>
  @if (state.motorMoving.get(mac!)) {
    <div class="flex flex-row justify-center items-center w-full h-full">

      <!--    [ngClass]="{'hidden':!state.motorMoving.get(mac!)}"-->
      <div class="flex flex-row items-center">
        <span class="loading loading-ring loading-lg"></span>
        <p>Moving motor</p>
      </div>
    </div>
  }
</div>

